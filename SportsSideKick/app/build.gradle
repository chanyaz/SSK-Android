buildscript {
    repositories {
        maven { url 'https://maven.fabric.io/public' }
    }

    dependencies {
        classpath 'io.fabric.tools:gradle:1.22.1'
    }
}
apply plugin: 'com.android.application'
apply plugin: 'io.fabric'

repositories {
    maven { url 'https://maven.fabric.io/public' }
    maven {
        url 'https://maven.google.com'
    }
}


android {
    compileSdkVersion 25
    buildToolsVersion '25.0.3'
    defaultConfig {

        minSdkVersion 17
        targetSdkVersion 25

        testInstrumentationRunner "android.support.left.runner.AndroidJUnitRunner"
        multiDexEnabled true

        renderscriptTargetApi 17
        renderscriptSupportModeEnabled true
    }

    productFlavors {
        sportsidekick {
            applicationId "tv.sportssidekick.sportssidekick"
            versionCode 3
            versionName "1.0.0.2"
        }
    }

    lintOptions {
        checkReleaseBuilds false
        // Or, if you prefer, you can continue to check for errors in release builds,
        // but continue the build even when errors are found:
        abortOnError false
    }

    buildTypes {
        release {
            minifyEnabled false // TODO @Nemanja fix proguard file
            shrinkResources true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    defaultConfig {
        vectorDrawables.useSupportLibrary = true
    }

    compileOptions {
        targetCompatibility JavaVersion.VERSION_1_7
        sourceCompatibility JavaVersion.VERSION_1_7
    }

    packagingOptions {
        exclude 'META-INF/LICENSE'
    }

    configurations.all {
        resolutionStrategy.force 'com.google.code.findbugs:jsr305:1.3.9'
    }

    allprojects {
        repositories {
            jcenter()
            flatDir {
                dirs 'libs'
            }
        }
    }
}

dependencies {
// Local libraries - Youtube
    compile fileTree(include: ['*.jar'], dir: 'libs')

// Annotation processors
    annotationProcessor 'com.github.hotchemi:permissionsdispatcher-processor:2.3.0'
    annotationProcessor 'com.jakewharton:butterknife-compiler:8.4.0'

// Google support libraries
    compile 'com.android.support.constraint:constraint-layout:1.1.0-beta1'
    compile 'com.android.support:recyclerview-v7:25.3.1'
    compile 'com.android.support:appcompat-v7:25.3.1'
    compile 'com.android.support:percent:25.3.1'
    compile 'com.android.support:multidex:1.0.1'

//  We only need Firebase for Push notifications!
    compile 'com.google.firebase:firebase-core:10.2.4'
    compile 'com.google.firebase:firebase-messaging:10.2.4'

//  Other Google libraries for Youtube
    compile 'com.google.http-client:google-http-client-android:1.20.0'
    compile 'com.google.api-client:google-api-client-android:1.20.0'
    compile 'com.google.api-client:google-api-client-gson:1.20.0'
    compile files('libs/YoutubeAndroidPlayerApi.jar')
    compile 'com.google.apis:google-api-services-youtube:v3-rev181-1.22.0'

//  Gamesparks SDK - whole backend is relying on it (it  resides on maven)
    compile 'com.gamesparks.sdk:gamesparks-java-sdk:+'

//  General data-binding package for Jackson used for parsing of GS response in model - https://github.com/FasterXML/jackson-databind
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.9.0.pr1'
//  Event Bus - we are using Greenrobot version! https://github.com/greenrobot/EventBus
    compile 'org.greenrobot:eventbus:3.0.0'
//  Video chat is implemented with Twillio (it  resides on jcenter) - https://www.twilio.com/docs/api/video/download-video-sdks
    compile 'com.twilio:video-android:1.0.1'
//  Facebook SDK is used for Analytics, Share and to populate Sign up data - https://developers.facebook.com/docs/android/
    compile 'com.facebook.android:facebook-android-sdk:4.22.0'
    compile('com.facebook.android:audience-network-sdk:4.22.0') {
        exclude group: 'com.google.android.gms'
    }
//  Twitter KIT used for share functionality - https://github.com/twitter/twitter-kit-android
    compile('com.twitter.sdk.android:twitter:2.3.2@aar') {
        transitive = true;
    }

//  Amazon web services are used for uploading of user generated media content - https://aws.amazon.com/mobile/sdk/
    compile 'com.amazonaws:aws-android-sdk-core:2.4.2'
    compile 'com.amazonaws:aws-android-sdk-s3:2.4.2'

//  TODO @All - it should be replaced with more stable up to date library
//  Circle Progress UI element used for Profile icon - https://github.com/lzyzsd/CircleProgress
    compile 'com.github.lzyzsd:circleprogress:+'

//  Swipe refresh layout used in Wall, News, Rumours and Chat fragments - https://github.com/omadahealth/SwipyRefreshLayout
    compile 'com.github.orangegangsters:swipy:1.2.3@aar'
//  Expandable layout used in Join Chat fragment - https://github.com/AAkira/ExpandableLayout
    compile 'com.github.aakira:expandable-layout:1.6.0@aar'
//  Permission handling library used around the project for easier handling of permissions - https://github.com/hotchemi/PermissionsDispatcher
    compile 'com.github.hotchemi:permissionsdispatcher:2.3.0'
//  Nice loading animations for Android - https://github.com/81813780/AVLoadingIndicatorView
    compile 'com.wang.avi:library:2.1.3'
//  Custom layout that can rotate it's view, used in Rumours-  https://github.com/rongi/rotate-layout
    compile 'rongi.rotate-layout:rotate-layout:2.0.0'
//  TODO @All - Android O now supports downloadable fonts, explore this option instead of custom lib
//  Custom fonts in Android -https://github.com/chrisjenx/Calligraphy
    compile 'uk.co.chrisjenx:calligraphy:2.3.0'
//  A small library containing a wrapper/helper for the Shared Preferences of android - https://github.com/Pixplicity/EasyPreferences
    compile 'com.pixplicity.easyprefs:library:1.8.1@aar'
//  Bind Android views and callbacks to fields and methods - https://github.com/JakeWharton/butterknife
    compile 'com.jakewharton:butterknife:8.6.0'
//  TODO @All - possibly outdated, check for alternative?
//  Library for loading, caching and displaying images on Android - https://github.com/nostra13/Android-Universal-Image-Loader
    compile 'com.nostra13.universalimageloader:universal-image-loader:1.9.5'
//  TODO @All - there should be an implementation of this in android, check if this library can be removed
//  Circular ImageView for profile images - https://github.com/hdodenhof/CircleImageView
    compile 'de.hdodenhof:circleimageview:2.1.0'

//  Checkout (Android In-App Billing Library) used for billing - https://github.com/serso/android-checkout
    compile 'org.solovyev.android:checkout:1.0.0'
//  SnappySmoothScroller - used for message scrolling - https://github.com/nshmura/SnappySmoothScroller
    compile 'com.nshmura:snappysmoothscroller:1.0.0'

//  Java library for working with real-world HTML used for share of content from web view - https://jsoup.org/download
    compile 'org.jsoup:jsoup:1.10.2'


//  Real time remote log tracking - https://bugfender.com/ TODO @Filip remove/disable for production
    compile 'com.bugfender.sdk:android:0.+'
//  library for monitoring network connectivity, relies on rxJava - https://github.com/keiferstone/nonet
    compile 'com.keiferstone:nonet:2.0.0'
    compile group: 'io.reactivex.rxjava2', name: 'rxjava', version: '2.1.0'

//  Random human readable name generator for testing - https://github.com/Atrox/haikunatorjava TODO @Filip remove for production
    compile 'me.atrox.haikunator:Haikunator:1.3'
//  Android Library to provide swipe, click and other functionality to RecyclerView
    compile 'com.nikhilpanju.recyclerviewenhanced:recyclerviewenhanced:1.1.0'
}
apply plugin: 'com.google.gms.google-services'